<div class="flex flex-col" style="gap: 16px">
  @for (card of cards(); track card.id) {
    <div
      class="bg-white rounded-2xl shadow-sm cursor-pointer transition-all duration-200 hover:shadow-md"
      style="
        border: 1px solid var(--color-gray-soft-50, #f0f1f3);
        padding: 13px 18px;
        border-radius: 15px;
        box-shadow:
          0px 1px 3px 0px rgba(0, 0, 0, 0.05),
          0px 1px 2px 0px rgba(0, 0, 0, 0.1);
      "
      (click)="toggleCard(card.id)"
      (keydown.enter)="toggleCard(card.id)"
      (keydown.space)="toggleCard(card.id); $event.preventDefault()"
      tabindex="0"
      role="button"
      [attr.aria-expanded]="card.expanded"
    >
      <!-- Card Title -->
      <div class="mb-4">
        <h3
          style="
            font-family: 'Public Sans', sans-serif;
            font-size: 15px;
            line-height: 22px;
            font-weight: 700;
            letter-spacing: 0.01em;
            text-transform: capitalize;
            color: #030229;
            opacity: 0.7;
          "
        >
          {{ card.title }}
        </h3>
      </div>

      <!-- Items - Always Visible -->
      <div class="mb-4" style="display: flex; flex-direction: column; gap: 16px">
        @for (item of card.items; track item.label) {
          <!-- Entire item with gray background -->
          <div
            class="bg-gray-50 rounded-lg flex items-center"
            style="padding: 12px 16px; gap: 16px"
          >
            <img
              src="assets/icons/server.svg"
              alt="server"
              style="width: 53px; height: 53px; min-width: 53px; min-height: 53px"
              class="flex-shrink-0"
            />

            <div
              class="flex-1 flex flex-col md:flex-row items-start md:items-center"
              style="gap: 16px"
            >
              <div class="flex-shrink-0">
                <div
                  style="
                    font-family: 'Public Sans', sans-serif;
                    font-size: 12.15px;
                    line-height: 13.5px;
                    font-weight: 600;
                    letter-spacing: 0px;
                    color: var(--color-gray-soft-900, #404a60);
                  "
                >
                  {{ item.label }}
                </div>
                <div
                  style="
                    font-family: 'Public Sans', sans-serif;
                    font-size: 9.45px;
                    line-height: 10.13px;
                    font-weight: 500;
                    letter-spacing: 0px;
                    color: var(--color-gray-soft-500, #667085);
                  "
                >
                  {{ item.sublabel }}
                </div>
              </div>

              <div class="hidden md:block w-px bg-gray-300" style="height: 48px"></div>

              <div
                class="flex-1"
                style="
                  font-family: 'Public Sans', sans-serif;
                  font-size: 13px;
                  line-height: 22px;
                  font-weight: 400;
                  letter-spacing: 0.01em;
                  text-transform: capitalize;
                  color: var(--color-gray-soft-900, #404a60);
                "
              >
                {{ item.info }}
              </div>
            </div>
          </div>
        }
      </div>

      <!-- Expandable Description (Full Description) -->
      <div
        [class.max-h-0]="!card.expanded"
        [class.max-h-[500px]]="card.expanded"
        [class.opacity-0]="!card.expanded"
        [class.opacity-100]="card.expanded"
        class="overflow-hidden transition-all duration-300 ease-in-out"
        [style.margin-top]="card.expanded ? '16px' : '0'"
      >
        <p
          style="
            font-family: 'Public Sans', sans-serif;
            font-size: 15px;
            line-height: 22px;
            font-weight: 400;
            letter-spacing: 0.01em;
            text-transform: capitalize;
            color: var(--color-gray-soft-700, #525d73);
          "
        >
          {{ card.description }}
        </p>
      </div>
    </div>
  }
</div>
