<div 
  class="h-screen bg-white border-r border-gray-200 flex flex-col transition-all duration-300 sidebar"
  [class.sidebar-expanded]="!isCollapsed()"
  [class.sidebar-collapsed]="isCollapsed()">
  
  <!-- Collapse Button -->
  <div class="relative">
    <button 
      (click)="toggleSidebar()"
      class="flex items-center justify-center transition-colors z-10 collapse-button">
      <span class="text-white text-base font-bold">
        {{ isCollapsed() ? '›' : '‹' }}
      </span>
    </button>
  </div>

  <!-- Main Menu -->
  <nav class="flex-1 pt-12 px-4 space-y-1 overflow-y-auto">
    @for (item of menuItems; track $index) {
      <button
        (click)="selectMenuItem($index)"
        [class.bg-emerald-50]="activeMenuIndex() === $index"
        [class.text-emerald-600]="activeMenuIndex() === $index"
        [class.text-gray-600]="activeMenuIndex() !== $index"
        [class.hover:bg-emerald-100]="activeMenuIndex() === $index"
        [class.hover:bg-gray-50]="activeMenuIndex() !== $index"
        [class.justify-center]="isCollapsed()"
        [class.justify-start]="!isCollapsed()"
        class="w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors group relative">
        
        <img 
          [src]="getIconPath(item.icon)" 
          alt="" 
          style="width: 20px; height: 20px; min-width: 20px; min-height: 20px;"
          class="flex-shrink-0">
        
        @if (!isCollapsed()) {
          <span class="font-normal text-gray-900 overflow-hidden text-ellipsis" style="font-size: 0.9375rem; line-height: 1.375rem; letter-spacing: 0.01em; text-transform: capitalize;">{{ item.label }}</span>
        }
        
        <!-- Tooltip for collapsed state -->
        @if (isCollapsed()) {
          <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
            {{ item.label }}
          </div>
        }
      </button>
    }
  </nav>

<!-- Bottom Menu -->
<div class="px-4 pb-4 flex flex-col" [class.pt-0]="isCollapsed()" [class.mt-0]="isCollapsed()">
  @for (item of bottomMenuItems; track $index) {
    <button
      (click)="selectBottomMenuItem($index)"
      [class.bg-emerald-50]="activeBottomMenuIndex() === $index"
      [class.text-emerald-600]="activeBottomMenuIndex() === $index"
      [class.text-gray-600]="activeBottomMenuIndex() !== $index"
      [class.hover:bg-emerald-100]="activeBottomMenuIndex() === $index"
      [class.hover:bg-gray-50]="activeBottomMenuIndex() !== $index"
      [class.justify-center]="isCollapsed()"
      [class.justify-start]="!isCollapsed()"
      [class.mb-1]="$index < bottomMenuItems.length - 1"
      class="w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors group relative menu-item">
      
      <img 
        [src]="getIconPath(item.icon)" 
        alt="" 
        style="width: 20px; height: 20px; min-width: 20px; min-height: 20px;"
        class="flex-shrink-0">
      
      @if (!isCollapsed()) {
        <span class="font-normal overflow-hidden text-ellipsis" style="font-size: 0.9375rem; line-height: 1.375rem; letter-spacing: 0.01em; text-transform: capitalize;">{{ item.label }}</span>
      }
      
      <!-- Tooltip for collapsed state -->
      @if (isCollapsed()) {
        <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
          {{ item.label }}
        </div>
      }
    </button>
  }
  
  <!-- Divider - only visible when expanded -->
  @if (!isCollapsed()) {
    <div class="border-t border-gray-200 my-4"></div>
  }
  
  <!-- User Profile with logout -->
  <button 
    [class.justify-center]="isCollapsed()"
    [class.justify-start]="!isCollapsed()"
    [class.mt-4]="isCollapsed()"
    class="w-full flex items-center gap-3 px-3 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors group relative">
    <div 
      class="rounded-full flex-shrink-0 flex items-center justify-center overflow-hidden transition-all duration-300"
      [ngClass]="isCollapsed() ? 'w-8 h-8' : 'w-12 h-12'">
      <img [src]="getIconPath('person')" alt="user" class="w-full h-full object-cover">
    </div>
    
    @if (!isCollapsed()) {
      <div class="flex-1 text-left overflow-hidden">
        <div class="text-sm font-medium text-gray-900 overflow-hidden text-ellipsis">Lorem</div>
        <div class="text-xs text-gray-500 overflow-hidden text-ellipsis">Lorem</div>
      </div>
      <img 
        [src]="getIconPath('logout')" 
        alt="logout" 
        style="width: 20px; height: 20px; min-width: 20px; min-height: 20px;"
        class="flex-shrink-0">
    }
    
    <!-- Tooltip for collapsed state -->
    @if (isCollapsed()) {
      <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
        Lorem
      </div>
    }
  </button>
</div>