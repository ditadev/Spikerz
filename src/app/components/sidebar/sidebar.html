<div 
  class="h-screen bg-white border-r border-gray-200 flex flex-col transition-all duration-300 sidebar"
  [class.sidebar-expanded]="!isCollapsed()"
  [class.sidebar-collapsed]="isCollapsed()">
  
  <!-- Collapse Button -->
  <div class="relative">
    <!-- Collapse Toggle Button positioned on the border edge -->
    <button 
      (click)="toggleSidebar()"
      class="flex items-center justify-center transition-colors z-10 collapse-button">
      <mat-icon class="text-white" style="font-size: 1rem; width: 1rem; height: 1rem;">{{ isCollapsed() ? 'chevron_right' : 'chevron_left' }}</mat-icon>
    </button>
  </div>

  <!-- Main Menu -->
  <nav class="flex-1 pt-14 px-4 space-y-1 overflow-y-auto">
    @for (item of menuItems; track item.label) {
      <button
        [class.bg-emerald-50]="item.active"
        [class.text-emerald-600]="item.active"
        [class.text-gray-600]="!item.active"
        class="w-full flex items-center justify-start gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors group relative">
        
        <mat-icon class="flex-shrink-0" [class.hidden]="isCollapsed() && !item.active">{{ item.icon }}</mat-icon>
        
        @if (!isCollapsed()) {
          <span class="font-normal text-gray-900" style="font-size: 0.9375rem; line-height: 1.375rem; letter-spacing: 0.01em; text-transform: capitalize;">{{ item.label }}</span>
        }
        
        <!-- Tooltip for collapsed state -->
        @if (isCollapsed()) {
          <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
            {{ item.label }}
          </div>
        }
      </button>
    }
  </nav>

  <!-- Bottom Menu -->
  <div class="p-4 border-t border-gray-200 space-y-1">
    @for (item of bottomMenuItems; track item.label) {
      <button
        class="w-full flex items-center justify-start gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors group relative">
        
        <mat-icon class="flex-shrink-0">{{ item.icon }}</mat-icon>
        
        @if (!isCollapsed()) {
          <span class="font-normal text-gray-900" style="font-size: 0.9375rem; line-height: 1.375rem; letter-spacing: 0.01em; text-transform: capitalize;">{{ item.label }}</span>
        }
        
        <!-- Tooltip for collapsed state -->
        @if (isCollapsed()) {
          <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
            {{ item.label }}
          </div>
        }
      </button>
    }
    
    <!-- User Profile -->
    <button 
      [class.justify-center]="isCollapsed()"
      [class.justify-start]="!isCollapsed()"
      class="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors mt-4 group relative">
      <div class="w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"></div>
      
      @if (!isCollapsed()) {
        <div class="flex-1 text-left">
          <div class="text-sm font-medium text-gray-900">Lorem</div>
          <div class="text-xs text-gray-500">Lorem</div>
        </div>
        <span class="text-gray-400">â†’</span>
      }
      
      <!-- Tooltip for collapsed state -->
      @if (isCollapsed()) {
        <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
          Lorem
        </div>
      }
    </button>
  </div>
</div>