<div 
  class="h-screen bg-white border-r border-gray-200 flex flex-col transition-all duration-300 sidebar"
  [class.sidebar-expanded]="!isCollapsed()"
  [class.sidebar-collapsed]="isCollapsed()">
  
  <!-- Logo & Collapse Button -->
  <div class="p-4 border-b border-gray-200 flex items-center justify-between">
    <div class="flex items-center gap-2 overflow-hidden">
      <div class="w-8 h-8 bg-emerald-500 rounded-lg flex-shrink-0"></div>
      @if (!isCollapsed()) {
        <span class="font-semibold text-gray-900 whitespace-nowrap">Lorem</span>
      }
    </div>
    
    <!-- Collapse Toggle Button -->
    <button 
      (click)="toggleSidebar()"
      class="p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0"
      [class.ml-auto]="isCollapsed()">
      <span [innerHTML]="getIconSvg(isCollapsed() ? 'chevron-right' : 'chevron-left')" class="text-gray-600"></span>
    </button>
  </div>

  <!-- Main Menu -->
  <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
    @for (item of menuItems; track item.label) {
      <button
        [class.bg-emerald-50]="item.active"
        [class.text-emerald-600]="item.active"
        [class.text-gray-600]="!item.active"
        [class.justify-center]="isCollapsed()"
        [class.justify-start]="!isCollapsed()"
        class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors group relative"
        [title]="isCollapsed() ? item.label : ''">
        
        <span [innerHTML]="getIconSvg(item.icon)" class="flex-shrink-0"></span>
        
        @if (!isCollapsed()) {
          <span class="text-sm font-medium">{{ item.label }}</span>
        }
        
        <!-- Tooltip for collapsed state -->
        @if (isCollapsed()) {
          <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
            {{ item.label }}
          </div>
        }
      </button>
    }
  </nav>

  <!-- Bottom Menu -->
  <div class="p-4 border-t border-gray-200 space-y-1">
    @for (item of bottomMenuItems; track item.label) {
      <button
        [class.justify-center]="isCollapsed()"
        [class.justify-start]="!isCollapsed()"
        class="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors group relative"
        [title]="isCollapsed() ? item.label : ''">
        
        <span [innerHTML]="getIconSvg(item.icon)" class="flex-shrink-0"></span>
        
        @if (!isCollapsed()) {
          <span class="text-sm font-medium">{{ item.label }}</span>
        }
        
        <!-- Tooltip for collapsed state -->
        @if (isCollapsed()) {
          <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
            {{ item.label }}
          </div>
        }
      </button>
    }
    
    <!-- User Profile -->
    <button 
      [class.justify-center]="isCollapsed()"
      [class.justify-start]="!isCollapsed()"
      class="w-full flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors mt-4 group relative">
      <div class="w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"></div>
      
      @if (!isCollapsed()) {
        <div class="flex-1 text-left">
          <div class="text-sm font-medium text-gray-900">Lorem</div>
          <div class="text-xs text-gray-500">Lorem</div>
        </div>
        <span class="text-gray-400">â†’</span>
      }
      
      <!-- Tooltip for collapsed state -->
      @if (isCollapsed()) {
        <div class="absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50">
          Lorem
        </div>
      }
    </button>
  </div>
</div>